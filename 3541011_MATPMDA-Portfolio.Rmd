---
title: "3541011_MATPMDA-Portfolio"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
mydata <- read.table("Smartwatch_Steps.txt", header=TRUE, sep='\t') #dataload
```

# Introduction
This portfolio analyses daily activity data collected from my smartwatch between 1st August and 21st August 2025. The data was automatically tracked by the device and exported into a text file, so it provides an accurate day-by-day record of my step counts. During this period, I was working full-time in Edinburgh, commuting, going to the gym and maintaining an active lifestyle over the summer and I wanted to analyse how different lifestyle factors, namely work location, day of the week and breakfast habit would relate to my physical activity. 
By understanding this patterns, I hope to make more informed decisions about maintaining an active lifestyle, even with a demanding schedule. In this portfolio I use visualisations, Student t test, linear regression, Fisher's exact test, Pearson's chi-squared test and Bayes's theorem, which follow the methods of this course.

```{r}
head(mydata)
```

The dataset shown above contains daily activity records collected from my smartwatch. The columns include:
* Data: Sequential number for each day for this study period (1-21st August 2025)
* Steps: Total number of daily steps 
* Weekday: Indicates whether the day was a Weekday ("Y") or not
* WFH/Office: Specifies if I went to the office ("Y") or worked from home ("Y")
* Breakfast: Records if I had breakfast or not that day

```{r}
summary(mydata$Steps)
```

On average, I take about 11,000 steps per day, with most days ranging from 7,000 to 15,000 steps. The median and mean are very close, which illustrate that the distribution is not heavily skewed, although a few very active days pull the mean upward. This patter helps justify the below histogram plotted to visualise the distribution of steps and provides a foundation of comparisons analysed later in this report.

# Methods and Results

## Distribution of Steps - Histogram

I want to create a histogram to show how the distribution of my daily steps counts.


```{r}
hist(mydata$Steps, col="lightblue", main= "Histogram of my daily steps")
```

The plot above reveals that my daily activity usually falls between 5,000 and 15,000 steps, with a few days where I walk over the 20,000 threshold. Most days are in the lower and middle step ranges, which is shown by the higher bars in the bins. I chose a histogram because it clearly shows the spread and frequency of my activity levels. This makes it easy to see how often I reach my target of 10,000 steps. As a guideline, this level is actually recommended by the NHS in the UK to maintain a good daily activity and fitness levels, which sits near the center of my distribution. In fact, the above image clearly shows how often I hit this target.

## Steps by Day Type: Weekday vs Weekend - Boxplot

```{r}
boxplot(Steps ~ Weekday, data = mydata, col="grey")
```

This boxplot compares my daily steps between weekdays and weekends. Visually, my activity appears higher on weekends than weekdays, whith the median steps greater for weekends. To explain, the non-weekday median sits roughly around 13,000-14,000 steps, while the weekend median is closer to about 9,500-10,000 steps. Personally, this is very surprising, as I expected to walk more during the working week due to commuting, structure routine and work. Instead, the plot suggests that on weekends I often reach higher step counts, perhaps because I have more time for social activities, longer walks and I run errands that keep me moving.

# The Student T Test

I want to find out if my average number of daily steps is higher on days when I have breakfast compared to days when I do not have it.

## Null Hypothesis
The mean number of steps on breakfast days is equal to the mean number of steps on non-breakfast days.

## Alternative Hypothesis 
The mean number of steps on breakfast days is greater than the mean number of steps on non-breakfast days.

## One Sided Test 
I used a one-sided t-test because I expected that having breakfast would lead to a higher stepcount during that day.

```{r}
steps_breakfast <- mydata$Steps[mydata$Breakfast == "Y"]
steps_no_breakfast <- mydata$Steps[mydata$Breakfast == "N"]
```

Sample means for steps on breakfast days
```{r}
mean(steps_breakfast)
```

Sample mean for steps on non-breakfast days
```{r}
mean(steps_no_breakfast)
```

```{r}
mean(steps_breakfast) - mean(steps_no_breakfast)
```
```{r}
t.test(steps_breakfast, steps_no_breakfast, alternative = "greater")
```

I ran a one-sided test to check if my avarage daily steps are higher on days when I have breakfast than on days when I skip it. The null hypothesis was that that the man number of steps is the same for breakfast and non-breakfast days and the  alternative hypothesis was that the mean on breakfast is greater.
The same means support this idea: on breakfast days I walked about 14,078 steps on average, compare with about 7,668 steps on non-breakfast days, a difference of roughly 6,409 steps. 
The T Test gave me a p-value of 0.000143m which ixs far below the 0.05 significance threshold, so I REJECT the null hypothesis. The 95% confidence interval from about 3,936 means that any hypothesis claiming a smaller or negative difference would be rejected and I can be reasonably confident (at 95% level) that breakfast days do have a higher step count that non-breakfast days.


# Linear Regression 

I want to check if my daily step count shows a linear trend over the 21 days.

## Null hypothesis
The slope of the regression is zero: there is no linear relationship between Date and Step.

## Alternative Hyphothesis
The slope of the regression is not zero: my daily steps change linearly with the Date.

```{r}
plot(Steps ~ Date, data = mydata,
     main = "Steps as a function of day",
     xlab = "Day of study (1-21)",
     ylab = "Steps")

abline(lm(Steps ~ Date, data = mydata)) ##regression line
```

The scatterplot above shows my daily step count plotted against the days of the study, with a fitted regression line added. This lets me see if there is an overall upward or downward linear trend in steps across the 21 days analysed.

```{r}
model <- lm(Steps ~ Date, data = mydata)
summary(model)
```

This regression model shows how my daily steps changed over the 21 days. The fitted line has an intercept of about 10,730 steps and a slope of about 55 steps per day, so it suggests that only a tiny increase of roughly 55 extra steps as each day goes by. This change is negligible compared with my usual range of 5,000-20,000 steps and a p-value of 0.757, which is far above 0.05 so there is no statistical evidence that my walking increased or decreased in a linear way over time. Overall, this indicates that my step counts are more strongly influenced by what happens on certain days (social, commuting, WFH, office day) rather than any gradual trend overtime.


# Fisher's Exact Test: Is Brekfast linked with WFH?

I would like to know if my breakfast habit is associated with WFH.

## Null Hypothesis
In my daily routine having breakfast is independent of working from home

## Altenative Hypothesis
In my daily routine having breakfast depends on whether I am working from home.

## Two Sided Test
I used a two sided test because I had no prior assumption about whether breakfast would be more or less common on WFH days. 


To start my analysis, I summarise my data in a 2X2 table and display it:

```{r}
mytab <- matrix (c(3,6,
                   12,0), 2,2, byrow = TRUE) ##define matrix

dimnames(mytab) <- list(
  WFH =c("No", "Yes"),
  Breakfast = c("No", "Yes")
)

mytab  ##display
```

This table shows how often each combination of breakfast and WFH happened. On 6 days I worked from home and did not have breakfast and on 12 days I went to the office and did have breakfast. There were 3 days with neither breakfast nor WFH and 0 days where I both worked from home and had breakfast. So, in this period I have never eaten breakfast on a WFH day and all my breakfasts happened on office days.

```{r}
fisher.test(mytab)
```

The Fisher's exact test gives a p-value of about 0.0015 which is well below the common 0.05 threshold. This result is statistically SIGNIFICANT so I can reject the null hypothesis. This conclusion is consistent with the contingency table: the cell for "Breakfast" = YES" and "WFH = Yes" is zero, meaning that in this dataset I've never had breakfast on days I worked from home, whereas I often had breakfast on office days. For my day-to-day life, this is surprising as I expected that being at home would make breakfast more likely, but instead the structure of office days seems to encourage me to eat breakfast before leaving the house.



# Chi-Squared Test: When I have breakfast, are cereal, fruit, toast and yoghurt equally likely?

I want to find out if, on days when I do have breakfast, all your breakfast types listes are equally likely or if I tend to favour some kinds over the others.

## Null Hypothesis
When I have breakfast, all types (Cereal, Toast, Yoghurt and Fruit) are equally likely.

## Alternative Hypothesis 
When I have breakfast, at least one type had a different probabily of being a preffered choice - so the distribution is not 1:1:1:1.

## Two sided Test 
I used a two-sided test because I had no prior assumption about which breakfast kind would be more or less popular. 


```{r}
observed <- c(Ceral = 1, Toast = 3, Fruit =3, Yoghurt =0)
expected <- c(Ceral = 1.75, Toast = 1.75, Fruit =1.75, Yoghurt =1.75)

observed
expected
```

```{r}
B <- sum((observed-expected)^2/expected)
B
```

This gives a badness-of-fit value of B = 3.86, which is small. This indicates that my observed breakfast counts (1 cereal, 3 toast, 3 fruit, 0 yogurt) are very close to what I would expect if all four kinds of breakfast were equally likely (1.75 each).

```{r}
x <- seq(from=0, to=12, len=1000)
plot(x,dchisq(x,df=3), type='l', lwd=2, main="Pearson's chi square Test") #setup axes
B <- 3.857143 ##value of Badness from above
abline(v=B) ##vertical line
jj <- seq(from=B, to=12, len=100) ##temporary variable 
polygon(c(jj,rev(jj)),c(jj*0,dchisq(rev(jj),df=3)),col='gray',border=NA) #shade pvalue 
text(B,0.1,"observed B", pos=2)
```

```{r}
pchisq(3.857143,df=3,lower.tail = FALSE)
```

The p-value is 0.28, which is well above the usual 0.05 threshold. Hence, I do no reject the null that all your breakfast types are equally likely when I have breakfast. Statistically, the result is NOT SIGNIFICANT so any apparent preference could be due to random variation in this short 21-day period, so further data and exploration is recommended.



# Conclusion 
This portfolio showed how basic statistic tools can help me understand a small but meaningful part of my daily life. By looking at 21 days of my smart watch data, I learned that having breakfast is strongly associated to my physical activity : the t-test suggested that breakfast days are linked with a higher step counts that non-breakfast days. Conversely, the linear regression indicated no clear trend in my steps over time. 

The contingency table analysis used to look at Fisher's exact test revealed a surprising association between breakfast and working from home: I have never had breakfast on WFH days, while I often had food before leaving the house on office days. This goes against my initial thought that being in the comfort of my house and sleeping for a bit longer due to the lack of commute would encourage me to have breakfast in the morning. Finally, the chi-squared test illustrated that when I have breakfast, my choice between toast, cereal, yogurt and fruit is generally consistent with all being equally likely: there is no statistical evidence for a particular type of breakfast, though the dataset is small.

To sum up, working with box plots, histograms and hypothesis tests as well as regressions has helped me to see my own behavior more objectively. The analysis noted aspects of my life where the evidence is strong (impact of breakfast on my step count and link between breakfast and WFH) but also where the data is too limited to draw firm conclusions (breakfast preferences). 

