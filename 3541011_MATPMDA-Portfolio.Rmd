---
title: "3541011_MATPMDA-Portfolio"
output: html_document
date: "2025-12-01"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
mydata <- read.table("Smartwatch_Steps.txt", header=TRUE, sep='\t') #dataload
```

# Introduction
This portfolio analyses daily activity data collected from my smartwatch between 1st August and 21st August 2025. The data was automatically tracked by the device and exported into a text file, so it provides an accurate day-by-day record of my step counts. During this period, I was working full-time in Edinburgh, commuting, going to the gym and maintaining an active lifestyle over the summer and I wanted to analyse how different lifestyle factors, namely work location, day of the week and breakfast habit would relate to my physical activity. 
By understanding this patterns, I hope to make more informed decisions about maintaining an active lifestyle, even with a demanding schedule. In this portfolio I use visualisations, Student t test, linear regression, Fisher's exact test, Pearson's chi-squared test and Bayes's theorem, which follow the methods of this course.

```{r}
head(mydata)
```

The dataset shown above contains daily activity records collected from my smartwatch. The columns include:
* Data: Sequential number for each day for this study period (1-21st August 2025)
* Steps: Total number of daily steps 
* Weekday/Weekend: Indicates whether the day was a Weekday ("Y") or a Weekend ("Y")
* WFH/Office: Specifies if I went to the office ("Y") or worked from home ("Y")
* Breakfast: Records if I had breakfast or not that day

```{r}
summary(mydata$Steps)
```

On average, I take about 11,000 steps per day, with most days ranging from 7,000 to 15,000 steps. The median and mean are very close, which illustrate that the distribution is not heavily skewed, although a few very active days pull the mean upward. This patter helps justify the below histogram plotted to visualise the distribution of steps and provides a foundation of comparisons analysed later in this report.

# Methods and Results

## Distribution of Steps - Histogram

I want to create a histogram to show how the distribution of my daily steps counts.


```{r}
hist(mydata$Steps, col="lightblue", main= "Histogram of my daily steps")
```

The plot above reveals that my daily activity usually falls between 5,000 and 15,000 steps, with a few days where I walk over the 20,000 threshold. Most days are in the lower and middle step ranges, which is shown by the higher bars in the bins. I chose a histogram because it clearly shows the spread and frequency of my activity levels. This makes it easy to see how often I reach my target of 10,000 steps. As a guideline, this level is actually recommended by the NHS in the UK to maintain a good daily activity and fitness levels, which sits near the center of my distribution. In fact, the above image clearly shows how often I hit this target.

## Steps by Day Type: Weekday vs Weekend - Boxplot

```{r}
boxplot(Steps ~ Weekday, data = mydata, col="grey")
```

This boxplot compares my daily steps between weekdays and weekends. Visually, my activity appears higher on weekends than weekdays, whith the median steps greater for weekends. To explain, the non-weekday median sits roughly around 13,000-14,000 steps, while the weekend median is closer to about 9,500-10,000 steps. Personally, this is very surprising, as I expected to walk more during the working week due to commuting, structure routine and work. Instead, the plot suggests that on weekends I often reach higher step counts, perhaps because I have more time for social activities, longer walks and I run errands that keep me moving.

# The Student T Test

I want to find out if my average number of daily steps is higher on days when I have breakfast compared to days when I do not have it.

## Null Hypothesis
The mean number of steps on breakfast days is equal to the mean number of steps on non-breakfast days.

## Alternative Hypothesis 
The mean number of steps on breakfast days is greater than the mean number of steps on non-breakfast days.

## One Sided Test 
I used a one-sided t-test because I expected that having breakfast would lead to a higher stepcount during that day.

```{r}
steps_breakfast <- mydata$Steps[mydata$Breakfast == "Y"]
steps_no_breakfast <- mydata$Steps[mydata$Breakfast == "N"]
```

Sample means for steps on breakfast days
```{r}
mean(steps_breakfast)
```

Sample mean for steps on non-breakfast days
```{r}
mean(steps_no_breakfast)
```

```{r}
mean(steps_breakfast) - mean(steps_no_breakfast)
```
```{r}
t.test(steps_breakfast, steps_no_breakfast, alternative = "greater")
```

I ran a one-sided test to check if my avarage daily steps are higher on days when I have breakfast than on days when I skip it. The null hypothesis was that that the man number of steps is the same for breakfast and non-breakfast days and the  alternative hypothesis was that the mean on breakfast is greater.
The same means support this idea: on breakfast days I walked about 14,078 steps on average, compare with about 7,668 steps on non-breakfast days, a difference of roughly 6,409 steps. 
The T Test gave me a p-value of 0.000143m which is far below the 0.05 significance threshold, so I reject the null hypothesis. The 95% confidence interval from about 3,936 means that any hypothesis claiming a smaller or negative difference would be rejected and I can be reasonably confident (at 95% level) that breakfast days do have a higher step count that non-breakfast days.


# Linear Regression 

I want to check if my daily step count shows a linear trend over the 21 days.

## Null hypothesis
The slope of the regression is zero: there is no linear relationship between Date and Step.

## Alternative Hyphothesis
The slope of the regression is not zero: my daily steps change linearly with the Date.

```{r}
plot(Steps ~ Date, data = mydata,
     main = "Steps as a function of day",
     xlab = "Day of study (1-21)",
     ylab = "Steps")

abline(lm(Steps ~ Date, data = mydata)) ##regression line
```

The scatterplot above shows my daily step count plotted against the days of the study, with a fitted regression line added. This lets me see if there is an overall upward or downward linear trend in steps across the 21 days analysed.

```{r}
model <- lm(Steps ~ Date, data = mydata)
summary(model)
```

This regression model shows how my daily steps changed over the 21 days. The fitted line has an intercept of about 10,730 steps and a slope of about 55 steps per day, so it suggests that only a tiny increase of roughly 55 extra steps as each day goes by. This change is negligible compared with my usual range of 5,000-20,000 steps and a p-value of 0.757, which is far above 0.05 so there is no statistical evidence that my walking increased or decreased in a linear way over time. Overall, this indicates that my step counts are more strongly influenced by what happens on certain days (social, commuting, WFH, office day) rather than any gradual trend overtime.


# Fisher's Exact Test: Is Brekfast linked with WFH?

I would like to know if my breakfast habit is associated with WFH.

## Null Hypothesis
In my daily routine having breakfast is independent of working from home

## Altenative Hypothesis
In my daily routine having breakfast depends on whether I am working from home.

## Two Sided Test
I used a two sided test because I had no prior assumption about whether breakfast would be more or less common on WFH days. 

To start my analysis, I summarise my data in a 2X2 table and display it:

```{r}
mytab <- matrix (c(3,6,
                   12,0), 2,2, byrow = TRUE) ##define matrix

dimnames(mytab) <- list(
  Breakfast = c("No", "Yes"),
  WFH =c("No", "Yes")
)

mytab  ##display
```

This table shows how often each combination of breakfast and WFH happened. On 6 days I worked from home and did not have breakfast and on 12 days I went to the office and did have breakfast. There were 3 days with neither breakfast nor WFH and 0 days where I both worked from home and had breakfast. So, in this period I have never eaten breakfast on a WFH day and all my breakfasts happened on office days.

```{r}
fisher.test(mytab)
```

The Fisher's exact test gives a p-value of about 0.0015 which is well below the common 0.05 threshold. This result is statistically significant so I can reject the null hypothesis. This conclusion is consistent with the contingency table: the cell for "Breakfast" = YES" and "WFH = Yes" is zero, meaning that in this dataset I've never had breakfast on days I worked from home, whereas I often had breakfast on office days. For my day-to-day life, this is surprising as I expected that being at home would make breakfast more likely, but instead the structure of office days seems to encourage me to eat breakfast before leaving the house.


# Chi-Squared Test: Is Breakfast associated with Weekday or Weekend?

I want to check if my breakfast habit depends on whether it is a weekday or weekend.

## Null Hypothesis
Breakfast is independent on whether it is a weekday or weekend.

## Alternative Hypothesis 
Eating breakfast depends on whether it is a weekeday or weekend.

## Two sided Test 
I used a two-sided test as I had no prior assumption about the direction of association.

```{r}
observed <- c(Weekend=3, Weekday=7)
expected <- c(Weekend=5, Weekday=5)

observed
```

```{r}
expected
```

```{r}
B <- sum((observed-expected)^2/expected)
B
```

This gives a badness-of-fit value of B = 1.6, which is fairly small, indicating that my observed counts (3 weekend breakfasts and 7 weekday breakfasts) are quite close to the equal expectation of 5 and 5.

```{r}
x <- seq(from=0, to=12, len=1000)
plot(x,dchisq(x,df=1), type='l', lwd=2, main="Pearson's chi square Test") #setup axes
B <- 1.6 ##value of Badness from above
abline(v=B) ##vertical line
jj <- seq(from=B, to=12, len=100) ##temporary variable 
polygon(c(jj,rev(jj)),c(jj*0,dchisq(rev(jj),df=1)),col='gray',border=NA) #shade pvalue 
text(1.6,0.1,"observed B", pos=2)
```

```{r}
pchisq(1.6,df=1,lower.tail = FALSE)
```

The p-value is 0.206, which is well above the standard threshold of 0.05. Therefore, I do not reject the null hypothesis. Statistically, there is no significant association between breakfast and the type of day in my routine. Any small differences observed can be random variations. It is interesting to see what my breakfast habits remain relatively steady across the week. Due to work, it appears that I often have breakfast on weekdays to maintain high energy levels and stay active. On weekends, probably due to social events, study schedules or convenience I tend to stick to similar habits and be more relaxed about my meal routine.


# Bayes's Theorem 


